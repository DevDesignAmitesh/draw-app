{
  "services": {
    "frontend": {
      "build": {
        "context": ".",
        "dockerfile": "./dockerfile/DockerFile.fe"
      },
      "ports": ["3000:3000"],
      "environment": [
        "DATABASE_URL=postgresql://postgres:mysecretpassword@postgres:5432/draw-app",
        "JWT_SECRET=JWT_SECRETucbicbcwcgecybdcuyc8",
        "NEXT_PUBLIC_BASE_URL=http://localhost:3000"
      ],
      "depends_on": ["postgres"]
    },
    "http-backend": {
      "build": {
        "context": ".",
        "dockerfile": "./dockerfile/DockerFile.http"
      },
      "ports": ["5000:5000"],
      "environment": [
        "DATABASE_URL=postgresql://postgres:mysecretpassword@postgres:5432/draw-app",
        "JWT_SECRET=JWT_SECRETucbicbcwcgecybdcuyc8"
      ],
      "depends_on": ["postgres", "redis"]
    },
    "ws-backend": {
      "build": {
        "context": ".",
        "dockerfile": "./dockerfile/DockerFile.ws"
      },
      "ports": ["9000:9000"],
      "environment": [
        "DATABASE_URL=postgresql://postgres:mysecretpassword@postgres:5432/draw-app",
        "JWT_SECRET=JWT_SECRETucbicbcwcgecybdcuyc8"
      ],
      "depends_on": ["postgres", "redis"]
    },
    "worker": {
      "build": {
        "context": ".",
        "dockerfile": "./dockerfile/DockerFile.worker"
      },
      "depends_on": ["postgres", "redis", "http-backend"],
      "environment": [
        "DATABASE_URL=postgresql://postgres:mysecretpassword@postgres:5432/draw-app"
      ]
    },
    "postgres": {
      "image": "postgres",
      "ports": ["5432:5432"],
      "environment": [
        "DATABASE_URL=postgresql://postgres:mysecretpassword@postgres:5432/draw-app",
        "POSTGRES_PASSWORD=mysecretpassword",
        "POSTGRES_DB=draw-app",
        "POSTGRES_USER=postgres"
      ],
      "volumes": ["postgres_data:/var/lib/postgresql/data"]
    },
    "redis": {
      "image": "redis",
      "ports": ["6379:6379"],
      "volumes": ["redis_data:/data"],
      "environment": ["REDIS_URL=redis://redis:6379"]
    }
  },
  "volumes": {
    "postgres_data": {},
    "redis_data": {}
  }
}
